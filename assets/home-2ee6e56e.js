import{e as n,d as L,c as k,b as S,m as j,a as D,n as E,_ as x,g as w,l as A,f as C,v as V,M as W,h as m,L as I,A as _,i as T,j as H,k as M,o as R,p as N,q as B,r as $,s as U}from"./index-d1184385.js";/* empty css             */import{l as F}from"./blog-daec9d9c.js";import{f as Y,F as q}from"./features-b6ee2975.js";import{L as z}from"./layout-28bd1606.js";import{a as K}from"./index-42972cf9.js";import{p as P}from"./prepare-be1076f7.js";/* empty css                */const G=({url:e,title:t,author:i,date:r})=>e&&n(L,{children:[n("h6",{children:"Latest commit:"}),n("a",{href:e,children:t})," ",n("span",{class:"text-muted",children:["by ",n("a",{href:i.url?i.url:e,children:[i.name,","]})," ",K(r)]})]});function J(e){const t=navigator.platform.toLowerCase();return t.indexOf("os x")!==-1||t.indexOf("mac")!==-1?e==="macOS":t.indexOf("win")!==-1?navigator.userAgent.indexOf("Win64")!==-1||navigator.userAgent.indexOf("WOW64")!==-1?e==="Windows64":e==="Windows32":t.indexOf("linux")!==-1?t.indexOf("x86_64")!==-1?e==="Linux64":t.indexOf("i686")!==-1?e==="Linux32":t.indexOf("armv8")!==-1||t.indexOf("aarch64")!==-1?e==="LinuxAarch64":t.indexOf("arm")!==-1||t.indexOf("aarch32")!==-1?e==="LinuxAarch32":e==="Linux32":!1}class Q extends x{constructor(t){super(t),this.handleScroll=this.handleScroll.bind(this),this.state={interval:0}}handleScroll(){const t=document.getElementById("jumbo"),i=t.offsetTop+t.offsetHeight,r=document.getElementsByClassName("navbar")[0],s=i-r.offsetHeight,o=window.scrollY||window.pageYOffset||document.body.scrollTop;this.props.navbarDark?o>s&&this.props.makeNavbarDefault():o<=s&&this.props.makeNavbarDark()}componentDidMount(){this.setState({interval:setInterval(()=>{const{images:t,heroImage:i,nextHeroImage:r}=this.props,s=t.length,o=(i+1)%s,a=new Image;a.src=w(t[o]),a.onload=()=>r(s),this.setState({loadingHeroImg:a})},8e3)}),this.handleScroll(),document.addEventListener("scroll",this.handleScroll)}componentWillUnmount(){const{interval:t,loadingHeroImg:i}=this.state;clearInterval(t),i&&delete i.onload,this.props.makeNavbarDefault(),document.removeEventListener("scroll",this.handleScroll)}render({title:t,description:i,buttons:r,release:s,commit:o,playing:a,loggedIn:l,heroImage:d}){let c=r.filter(u=>J(u.os));c.length===0&&(c=[r.find(u=>u.os==="all")]);const f=c.length>1;return n("div",{class:"jumbotron jumbotron-fluid",style:{"--jumbotron-background":`url(${w(this.props.images[d])})`},id:"jumbo",children:n("div",{class:"jumbotron-cell",children:n("div",{class:"jumbotron-body",children:[n("div",{class:"jumbotron-header",children:[n("h1",{children:["RUNELITE",n("span",{children:".NET"})]}),n("p",{children:i}),n("a",{id:"contribute",class:"btn",href:A.github,children:"Contribute"}),n("div",{id:"download",children:n("div",{class:"btn-group",children:[c.map(({link:u,icon:g,text:h})=>n("a",{id:"direct-download-btn",class:"btn btn-primary",title:"Download for "+h.os+(h.arch?" ("+h.arch+")":""),href:u,native:!0,rel:"nofollow",children:[n("i",{class:g})," Download",f&&h.arch?" ("+h.arch+")":""]})),n("div",{class:"dropdown",children:[n("button",{class:"btn dropdown-toggle dropdown-toggle-split btn-primary",children:n("span",{class:"sr-only",children:"Toggle Dropdown"})}),n("div",{class:"dropdown-menu",style:{textShadow:"none"},children:r.map(({link:u,icon:g,text:h})=>n("a",{class:"dropdown-item",href:u,native:!0,rel:"nofollow",children:[n("i",{class:g})," Download for ",h.os," ",h.arch?" ("+h.arch+")":""]}))})]})]})})]}),n("div",{class:"small",children:[n("h6",{children:"Players:"}),C(a)||"unknown"," online (",C(l)||"unknown"," in game)",n("h6",{children:"Latest release:"}),n("a",{href:"#news",children:s||"unknown"}),n(G,{...o})]})]})})})}}const X=k(e=>({navbarDark:e.app.navbarDark,heroImage:e.app.heroImage}),e=>S({makeNavbarDark:j,makeNavbarDefault:D,nextHeroImage:E},e))(Q);function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},b.apply(this,arguments)}function Z(e,t){if(e==null)return{};var i={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(i[s]=e[s]);return i}const v=new Map,p=new WeakMap;let y=0,ee;function te(e){return e?(p.has(e)||(y+=1,p.set(e,y.toString())),p.get(e)):"0"}function ne(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?te(e.root):e[t]}`).toString()}function ie(e){let t=ne(e),i=v.get(t);if(!i){const r=new Map;let s;const o=new IntersectionObserver(a=>{a.forEach(l=>{var d;const c=l.isIntersecting&&s.some(f=>l.intersectionRatio>=f);e.trackVisibility&&typeof l.isVisible>"u"&&(l.isVisible=c),(d=r.get(l.target))==null||d.forEach(f=>{f(c,l)})})},e);s=o.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),i={id:t,observer:o,elements:r},v.set(t,i)}return i}function re(e,t,i={},r=ee){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const d=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:typeof i.threshold=="number"?i.threshold:0,time:0,boundingClientRect:d,intersectionRect:d,rootBounds:d}),()=>{}}const{id:s,observer:o,elements:a}=ie(i);let l=a.get(e)||[];return a.has(e)||a.set(e,l),l.push(t),o.observe(e),function(){l.splice(l.indexOf(t),1),l.length===0&&(a.delete(e),o.unobserve(e)),a.size===0&&(o.disconnect(),v.delete(s))}}const se=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function O(e){return typeof e.children!="function"}class oe extends x{constructor(t){super(t),this.node=null,this._unobserveCb=null,this.handleNode=i=>{this.node&&(this.unobserve(),!i&&!this.props.triggerOnce&&!this.props.skip&&this.setState({inView:!!this.props.initialInView,entry:void 0})),this.node=i||null,this.observeNode()},this.handleChange=(i,r)=>{i&&this.props.triggerOnce&&this.unobserve(),O(this.props)||this.setState({inView:i,entry:r}),this.props.onChange&&this.props.onChange(i,r)},this.state={inView:!!t.initialInView,entry:void 0}}componentDidUpdate(t){(t.rootMargin!==this.props.rootMargin||t.root!==this.props.root||t.threshold!==this.props.threshold||t.skip!==this.props.skip||t.trackVisibility!==this.props.trackVisibility||t.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve(),this.node=null}observeNode(){if(!this.node||this.props.skip)return;const{threshold:t,root:i,rootMargin:r,trackVisibility:s,delay:o,fallbackInView:a}=this.props;this._unobserveCb=re(this.node,this.handleChange,{threshold:t,root:i,rootMargin:r,trackVisibility:s,delay:o},a)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){if(!O(this.props)){const{inView:o,entry:a}=this.state;return this.props.children({inView:o,entry:a,ref:this.handleNode})}const t=this.props,{children:i,as:r}=t,s=Z(t,se);return V(r||"div",b({ref:this.handleNode},s),i)}}const ae=({commit:e,release:t,sessionCount:i,loggedInCount:r})=>n(z,{children:[n(W,{title:`${m.title} - Open Source Old School RuneScape Client`,description:m.description}),n("section",{id:"intro",children:n(X,{...m,release:t,commit:e,playing:i,loggedIn:r})}),n("section",{id:"features-home",children:n("div",{class:"content-section homepage",children:[n("h1",{class:"page-header",children:"FEATURES"}),n(I,{href:"/features",style:{color:"inherit"},children:n("h4",{class:"right-header",children:"SHOW ALL FEATURES"})}),n("div",{class:"row",children:Y.filter(s=>s.home).map(s=>n(q,{linkAlt:"View on Wiki",...s},s.title))})]})}),n("section",{id:"news",children:n("div",{class:"content-section homepage",children:[n("h1",{class:"page-header",children:"LATEST NEWS"}),n(I,{href:"/blog",style:{color:"inherit"},children:n("h4",{class:"right-header",children:"SHOW ALL NEWS"})}),n(oe,{children:({inView:s,ref:o})=>n("div",{ref:o,children:s?n(_,{getComponent:()=>F().then(({body:a})=>n("div",{class:"markdown-body news-page",dangerouslySetInnerHTML:{__html:a}}))}):null})})]})})]}),le=(e,t)=>({commit:T(e,t),release:H(e,t),sessionCount:M(e),loggedInCount:R(e)}),de=e=>S({fetchBootstrap:N,fetchCommits:B,fetchSessionCount:$,fetchLoggedInCount:U},e),he=async({fetchBootstrap:e,fetchCommits:t,fetchSessionCount:i,fetchLoggedInCount:r})=>{e().then(()=>t()),i(),r()},we=k(le,de)(P(he)(ae));export{we as default};
